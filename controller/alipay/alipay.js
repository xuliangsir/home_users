/** * Created by liangxu on 2017/12/8. */const pid = "2088421507244041";const md5key = "r6brdua4f1t43vo0tznfozsyqea4dxlc";const fs = require('fs')const Alipay = require('alipay-mobile')const path = require("path")const read = filename=>{    console.log("__dirname======",__dirname);    return fs.readFileSync(filename, 'utf-8');};const options ={    app_id: "2017120500382590",    appPrivKeyFile: read('app_private_key.txt'),    alipayPubKeyFile: read('alipay_public_key.txt')};const service = new Alipay(options);const data = {    subject: "家庭保洁",    out_trade_no: '12345678998765432',  //唯一订单号    total_amount: '0.01' //交易金额};return service.createOrder(data)        .then(result => {            console.log("=====result data=====",result.data)            //console.log("=====result data=====",decodeURIComponent(result.data))        });//app_id: 开放平台 appid//appPrivKeyFile: 你的应用私钥//alipayPubKeyFile: 蚂蚁金服公钥/*class AliPay{//     const read = filename => {//     return fs.readFileSync(path.resolve(__dirname, filename))// };    read(filename){        return fs.readFileSync(path.resolve(__dirname, filename))    }    createOrder(){        const options = {            app_id: '2017120500382590',            appPrivKeyFile: fs.readFileSync(path.resolve(__dirname, './app_private_key_2048.txt')),//read('./app_private_key_2048.txt'),            alipayPubKeyFile:fs.readFileSync(path.resolve(__dirname, './alipay_public_key_sha256_2017120500382590.txt')) // read('./alipay_public_key_sha256_2017120500382590.txt')        };        console.log("==================",options);        const service = new Alipay(options);        const data = {            subject: '辣条',            out_trade_no: '1232423',            total_amount: '100'        };        return service.createOrder(data)                .then(result => {                    console.log("=======result======",result);                    //assert(result.code == 0, result.message);                    //assert(result.message == 'success', result.message)                });    }}const ali = new AliPay();console.log(ali.createOrder())*/